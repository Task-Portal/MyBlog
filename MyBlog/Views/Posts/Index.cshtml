@model MyBlog.ViewModels.PostVM

@{
    ViewData["Title"] = "Posts";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width"/>
    <title>My Personal Blog</title>
</head>
<body>
    @if (User.Identity.Name == "a@a.com")
    {
        <p>
            <a asp-action="Create">Create New Post</a>
        </p>
    }

    <table class="table">
        <thead>
            <tr>

                <th> Title </th>
                <th> Description </th>
                <th> Content </th>
                <th> ImagePath </th>
                <th> PublishDate </th>
                <th> PublishTime </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Posts)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Title)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Description)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Content)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ImagePath)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PublishDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PublishTime)
                    </td>
                    <td>
                        <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                        <a asp-action="Details" asp-route-id="@item.Id">Details</a> |
                        <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>



    @*Paginator*@

    @if (Model.Paginator.HasPreviousPage)
    {
<a asp-action="Index"
   asp-route-pageNumber="@(Model.Paginator.PageNumber - 1)"
   class="btn btn-dark">
    <i class="glyficon glyficon-chevron-left"></i>
    @(Model.Paginator.PageNumber - 1)  Previous Page
</a>
    }

    @if (Model.Paginator.HasNextpage)
    {
<a asp-action="Index"
   asp-route-pageNumber="@(Model.Paginator.PageNumber + 1)"
   class="btn btn-dark">
    <i class="glyficon glyficon-chevron-right"></i>
    Next Page @(Model.Paginator.PageNumber + 1)
</a>


    }
</body>
</html>